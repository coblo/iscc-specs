



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Specification of International Standard Content Codes">
      
      
        <link rel="canonical" href="http://iscc.codes/specification/">
      
      
        <meta name="author" content="Titusz Pan">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.5.0">
    
    
      
        <title>ISCC - Specification</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#iscc-specification-v1x" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://iscc.codes" title="ISCC - Content Identifiers" class="md-header-nav__button md-logo">
          
            <img src="../images/logo-white.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              ISCC - Content Identifiers
            </span>
            <span class="md-header-nav__topic">
              
                ISCC - Specification
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/iscc/iscc-specs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    iscc/iscc-specs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://iscc.codes" title="ISCC - Content Identifiers" class="md-nav__button md-logo">
      
        <img src="../images/logo-white.svg" width="48" height="48">
      
    </a>
    ISCC - Content Identifiers
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/iscc/iscc-specs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    iscc/iscc-specs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../concept/" title="Concept" class="md-nav__link">
      Concept
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="./" title="Specification" class="md-nav__link">
      Specification
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../implementations/" title="Implementations" class="md-nav__link">
      Implementations
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Versions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Versions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Version 1.x
      </label>
    
    <a href="./" title="Version 1.x" class="md-nav__link md-nav__link--active">
      Version 1.x
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    Abstract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-to-readers" class="md-nav__link">
    Note to Readers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-this-document" class="md-nav__link">
    About this Document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-and-terminology" class="md-nav__link">
    Conventions and Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definitions" class="md-nav__link">
    Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-structure" class="md-nav__link">
    ISCC Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-components" class="md-nav__link">
    ISCC Components
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#component-types" class="md-nav__link">
    Component Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-of-component-headers" class="md-nav__link">
    List of Component Headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta-id-component" class="md-nav__link">
    Meta-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs-to-meta-id-function" class="md-nav__link">
    Inputs to Meta-ID function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-meta-id" class="md-nav__link">
    Generate Meta-ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dealing-with-meta-id-collisions" class="md-nav__link">
    Dealing with Meta-ID collisions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-component" class="md-nav__link">
    Content-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-media-types" class="md-nav__link">
    Generic Media Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-text" class="md-nav__link">
    Content-ID-Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-image" class="md-nav__link">
    Content-ID-Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-mixed" class="md-nav__link">
    Content-ID-Mixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-content-flag-pcf" class="md-nav__link">
    Partial Content Flag (PCF)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-id-component" class="md-nav__link">
    Data-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-data-id" class="md-nav__link">
    Generate Data-ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-id-component" class="md-nav__link">
    Instance-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-instance-id" class="md-nav__link">
    Generate Instance-ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-metadata" class="md-nav__link">
    ISCC Metadata
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-metadata" class="md-nav__link">
    Basic Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-metadata" class="md-nav__link">
    Extended Metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-registration" class="md-nav__link">
    ISCC Registration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blockchain-registry" class="md-nav__link">
    Blockchain Registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-embedding" class="md-nav__link">
    ISCC Embedding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-uri-scheme" class="md-nav__link">
    ISCC URI Scheme
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uri-syntax" class="md-nav__link">
    URI Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uri-example" class="md-nav__link">
    URI Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedures-algorithms" class="md-nav__link">
    Procedures &amp; Algorithms
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base58-iscc" class="md-nav__link">
    Base58-ISCC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encode" class="md-nav__link">
    encode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode" class="md-nav__link">
    decode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-normalization" class="md-nav__link">
    Content Normalization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#text_trim" class="md-nav__link">
    text_trim
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text_normalize" class="md-nav__link">
    text_normalize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image_normalize" class="md-nav__link">
    image_normalize
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feature-hashing" class="md-nav__link">
    Feature Hashing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#similarity_hash" class="md-nav__link">
    similarity_hash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimum_hash" class="md-nav__link">
    minimum_hash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image_hash" class="md-nav__link">
    image_hash
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-defined-chunking" class="md-nav__link">
    Content Defined Chunking
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data_chunks" class="md-nav__link">
    data_chunks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conformance-testing" class="md-nav__link">
    Conformance Testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/iscc/iscc-specs/blob/version-1.0/docs/specification.md" title="Version 1.0" class="md-nav__link">
      Version 1.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    Abstract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-to-readers" class="md-nav__link">
    Note to Readers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-this-document" class="md-nav__link">
    About this Document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-and-terminology" class="md-nav__link">
    Conventions and Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definitions" class="md-nav__link">
    Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-structure" class="md-nav__link">
    ISCC Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-components" class="md-nav__link">
    ISCC Components
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#component-types" class="md-nav__link">
    Component Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-of-component-headers" class="md-nav__link">
    List of Component Headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta-id-component" class="md-nav__link">
    Meta-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inputs-to-meta-id-function" class="md-nav__link">
    Inputs to Meta-ID function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-meta-id" class="md-nav__link">
    Generate Meta-ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dealing-with-meta-id-collisions" class="md-nav__link">
    Dealing with Meta-ID collisions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-component" class="md-nav__link">
    Content-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-media-types" class="md-nav__link">
    Generic Media Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-text" class="md-nav__link">
    Content-ID-Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-image" class="md-nav__link">
    Content-ID-Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-mixed" class="md-nav__link">
    Content-ID-Mixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-content-flag-pcf" class="md-nav__link">
    Partial Content Flag (PCF)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-id-component" class="md-nav__link">
    Data-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-data-id" class="md-nav__link">
    Generate Data-ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-id-component" class="md-nav__link">
    Instance-ID Component
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-instance-id" class="md-nav__link">
    Generate Instance-ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-metadata" class="md-nav__link">
    ISCC Metadata
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-metadata" class="md-nav__link">
    Basic Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-metadata" class="md-nav__link">
    Extended Metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-registration" class="md-nav__link">
    ISCC Registration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blockchain-registry" class="md-nav__link">
    Blockchain Registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-embedding" class="md-nav__link">
    ISCC Embedding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-uri-scheme" class="md-nav__link">
    ISCC URI Scheme
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uri-syntax" class="md-nav__link">
    URI Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uri-example" class="md-nav__link">
    URI Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedures-algorithms" class="md-nav__link">
    Procedures &amp; Algorithms
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base58-iscc" class="md-nav__link">
    Base58-ISCC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encode" class="md-nav__link">
    encode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode" class="md-nav__link">
    decode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-normalization" class="md-nav__link">
    Content Normalization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#text_trim" class="md-nav__link">
    text_trim
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text_normalize" class="md-nav__link">
    text_normalize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image_normalize" class="md-nav__link">
    image_normalize
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feature-hashing" class="md-nav__link">
    Feature Hashing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#similarity_hash" class="md-nav__link">
    similarity_hash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimum_hash" class="md-nav__link">
    minimum_hash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image_hash" class="md-nav__link">
    image_hash
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-defined-chunking" class="md-nav__link">
    Content Defined Chunking
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data_chunks" class="md-nav__link">
    data_chunks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conformance-testing" class="md-nav__link">
    Conformance Testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/iscc/iscc-specs/edit/master/docs/specification.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="iscc-specification-v1x"><abbr title="International Standard Content Code">ISCC</abbr> - Specification v1.x<a class="headerlink" href="#iscc-specification-v1x" title="Permanent link">#</a></h1>
<p><strong>Last revised on:</strong> 2019-07-29</p>
<h2 id="abstract">Abstract<a class="headerlink" href="#abstract" title="Permanent link">#</a></h2>
<p>The <strong>International Standard Content Code (<abbr title="International Standard Content Code">ISCC</abbr>)</strong>, is an open and decentralized digital media identifier. An <abbr title="International Standard Content Code">ISCC</abbr> can be created from digital content and its basic metadata by anybody who follows the procedures of the <abbr title="International Standard Content Code">ISCC</abbr> specification or by using open source software that supports <abbr title="International Standard Content Code">ISCC</abbr> creation <a href="#conformance-testing">conforming to the <abbr title="International Standard Content Code">ISCC</abbr> specification</a>.</p>
<h2 id="note-to-readers">Note to Readers<a class="headerlink" href="#note-to-readers" title="Permanent link">#</a></h2>
<p>For public discussion of issues for this specification please use the Github issue tracker: <a href="https://github.com/iscc/iscc-specs/issues">https://github.com/iscc/iscc-specs/issues</a>.</p>
<p>If you want to chat with developers join us on Telegram at <a href="https://t.me/iscc_dev">https://t.me/iscc_dev</a>.</p>
<p>The latest published version of this specification can be found at <a href="http://iscc.codes/specification/">http://iscc.codes/specification/</a>. </p>
<p>Public review, discussion and contributions are welcome.</p>
<h2 id="about-this-document">About this Document<a class="headerlink" href="#about-this-document" title="Permanent link">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Document Version</p>
<p>This is the latest in-development version of the <strong><abbr title="International Standard Content Code">ISCC</abbr> Specification</strong>. While there is already a <a href="https://github.com/iscc/iscc-specs/blob/version-1.0/docs/specification.md">Version 1.0</a> spec, we are still expecting backward incompatible changes until <strong>Version 2.0</strong> is released. Parts of this specification may already be or become stable earlier and will be documented so during minor releases. Partners are encouraged to follow development and test, implement and give feedback based on the latest (this) version of the <abbr title="International Standard Content Code">ISCC</abbr> Specification.  </p>
</div>
<p>This document proposes an open and vendor neutral <abbr title="International Standard Content Code">ISCC</abbr> standard and describes the technical procedures to create and manage <abbr title="International Standard Content Code">ISCC</abbr> identifiers. The first version of this document was produced as a prototype by the <a href="https://content-blockchain.org">Content Blockchain Project</a> and received funding from the <a href="https://digitalnewsinitiative.com/dni-projects/content-blockchain-project/">Google Digital News Initiative (DNI)</a>. The content of this document is determined by its authors in an open and public consensus process.</p>
<h2 id="conventions-and-terminology">Conventions and Terminology<a class="headerlink" href="#conventions-and-terminology" title="Permanent link">#</a></h2>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/rfc2119">[RFC 2119]</a>.</p>
<h2 id="definitions">Definitions<a class="headerlink" href="#definitions" title="Permanent link">#</a></h2>
<dl>
<dt>Basic Metadata:</dt>
<dd>Minimal set of <abbr title="International Standard Content Code">ISCC</abbr>-specific top-level metadata that SHOULD be supported by applications.</dd>
<dt>Bound Metadata:</dt>
<dd>Metadata that is utilized during generation of the <abbr title="International Standard Content Code">ISCC</abbr>. A change of this <strong>bound metadata</strong> may therefore impact the derived <abbr title="International Standard Content Code">ISCC</abbr>..</dd>
<dt>Extended Metadata:</dt>
<dd>Industry and application-specific metadata attached to an <abbr title="International Standard Content Code">ISCC</abbr>.</dd>
<dt>Character:</dt>
<dd>Throughout this specification a <strong><abbr title="A character is defined as one Unicode code point">character</abbr></strong> is meant to be interpreted as one Unicode code point. This also means that due to the structure of Unicode a <abbr title="A character is defined as one Unicode code point">character</abbr> is not necessarily a full glyph but might be a combining accent or similar.</dd>
<dt>Digital Media Object:</dt>
<dd>A blob of raw bytes with some media type specific encoding.</dd>
<dt>Extended Metadata:</dt>
<dd>Metadata that is not encoded within the <abbr title="International Standard Content Code">ISCC</abbr> Meta-ID but may be supplied together with the <abbr title="International Standard Content Code">ISCC</abbr>.</dd>
<dt>Generic Media Type:</dt>
<dd>A basic content type such as plain text in a normalized and <em>generic</em> (<a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a>) encoding format.</dd>
<dt><abbr title="International Standard Content Code">ISCC</abbr>:</dt>
<dd>International Standard Content Code</dd>
<dt><abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr>:</dt>
<dd>The printable text encoded representation of an <abbr title="International Standard Content Code">ISCC</abbr></dd>
<dt><abbr title="Raw binary data of an ISCC">ISCC Digest</abbr>:</dt>
<dd>The raw binary data of an <abbr title="International Standard Content Code">ISCC</abbr></dd>
</dl>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">#</a></h2>
<p>An <abbr title="International Standard Content Code">ISCC</abbr> permanently identifies content at multiple levels of <em>granularity</em>. It is algorithmically generated from basic metadata and the contents of a digital media object. It is designed for being registered and stored on a public and decentralized blockchain. An <abbr title="International Standard Content Code">ISCC</abbr> for a media object can be created and registered by the content author, a publisher, a service provider or anybody else. By itself the <abbr title="International Standard Content Code">ISCC</abbr> and its basic registration on a blockchain does not make any statement or claim about authorship or ownership of the identified content.</p>
<h2 id="iscc-structure"><abbr title="International Standard Content Code">ISCC</abbr> Structure<a class="headerlink" href="#iscc-structure" title="Permanent link">#</a></h2>
<p>A <strong>Fully Qualified <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr></strong> is a fixed size sequence of <strong>36 bytes (288 bits)</strong> assembled from multiple sub-components. The <strong>Fully Qualified  <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr></strong> is a <strong>52 <abbr title="A character is defined as one Unicode code point">character</abbr></strong> encoded printable string representation of a complete <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr>. This is a high-level overview of the <abbr title="International Standard Content Code">ISCC</abbr> creation process:</p>
<p><img alt="iscc-creation-process" src="../images/iscc-creation-process.svg" /></p>
<h2 id="iscc-components"><abbr title="International Standard Content Code">ISCC</abbr> Components<a class="headerlink" href="#iscc-components" title="Permanent link">#</a></h2>
<p>The <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr> is built from multiple self-describing 72-bit components:</p>
<table>
<thead>
<tr>
<th align="left">Components:</th>
<th align="left">Meta-ID</th>
<th align="left">Content-ID</th>
<th align="left">Data-ID</th>
<th align="left">Instance-ID</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>Context:</strong></td>
<td align="left">Intangible creation</td>
<td align="left">Content similarity</td>
<td align="left">Data similarity</td>
<td align="left">Data checksum</td>
</tr>
<tr>
<td align="left"><strong>Input:</strong></td>
<td align="left">Metadata</td>
<td align="left">Extracted  content</td>
<td align="left">Raw data</td>
<td align="left">Raw data</td>
</tr>
<tr>
<td align="left"><strong>Algorithms:</strong></td>
<td align="left">Similarity Hash</td>
<td align="left">Type specific</td>
<td align="left"><abbr title="Content defined chunking">CDC</abbr>, Minimum Hash</td>
<td align="left">Hash Tree</td>
</tr>
<tr>
<td align="left"><strong>Size:</strong></td>
<td align="left">72 bits</td>
<td align="left">72 bits</td>
<td align="left">72 bits</td>
<td align="left">72 bits</td>
</tr>
</tbody>
</table>
<p><abbr title="International Standard Content Code">ISCC</abbr> components MAY be used separately or in combination by applications for various purposes. Individual components MUST be presented as 13-<abbr title="A character is defined as one Unicode code point">character</abbr> <a href="#base58-iscc">base58-iscc</a> encoded strings to end users and MAY be prefixed with their component name.</p>
<div class="admonition example">
<p class="admonition-title">Single component <abbr title="International Standard Content Code">ISCC</abbr>-Code (13 characters)</p>
<p><strong>Meta-ID</strong>: CCDFPFc87MhdT</p>
</div>
<p>Combinations of components MUST include the Meta-ID component and MUST be ordered as <strong>Meta-ID</strong>, <strong>Content-ID</strong>, <strong>Data-ID</strong>, and <strong>Instance-ID</strong>. Individual components MAY be skipped and SHOULD be separated with hyphens. A combination of components SHOULD be prefixed with "<abbr title="International Standard Content Code">ISCC</abbr>".</p>
<div class="admonition example">
<p class="admonition-title">Combination of <abbr title="International Standard Content Code">ISCC</abbr>-Code components</p>
<p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCPktvj3dVoVa-CTPCWTpGPMaLZ-CDL6QsUZdZzog</p>
</div>
<p>A <strong>Fully Qualified <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr></strong> is an ordered sequence of Meta-ID, Content-ID, Data-ID, and Instance-ID codes. It SHOULD be prefixed with <abbr title="International Standard Content Code">ISCC</abbr> and MAY be separated by hyphens.</p>
<div class="admonition example">
<p class="admonition-title">Fully Qualified <abbr title="International Standard Content Code">ISCC</abbr>-Code (52 characters)</p>
<p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCDFPFc87MhdTCTWAGYJ9HZGj1CDhydSjutScgECR4GZ8SW5a7uc</p>
</div>
<div class="admonition example">
<p class="admonition-title">Fully Qualified <abbr title="International Standard Content Code">ISCC</abbr>-Code with hyphens (55 characters)</p>
<p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCDFPFc87MhdT-CTWAGYJ9HZGj1-CDhydSjutScgE-CR4GZ8SW5a7uc</p>
</div>
<h3 id="component-types">Component Types<a class="headerlink" href="#component-types" title="Permanent link">#</a></h3>
<p>Each component has the same basic structure of a <strong>1-byte header</strong> and a <strong>8-byte body</strong> section. </p>
<p>The 1-byte header of each component is subdivided into 2 nibbles (4 bits). The first nibble specifies the component type while the second nibble is component specific.</p>
<p>The header only needs to be carried in the encoded representation. As similarity searches across different components are of little use, the type-information contained in the header of each component can be safely ignored after an <abbr title="International Standard Content Code">ISCC</abbr> has been decomposed and internally typed by an application. </p>
<h4 id="list-of-component-headers">List of Component Headers<a class="headerlink" href="#list-of-component-headers" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Nibble-1</th>
<th align="left">Nibble-2</th>
<th align="left">Byte</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>Meta-ID</strong></td>
<td align="left">0000</td>
<td align="left">0000 - Reserved</td>
<td align="left">0x00</td>
<td>CC</td>
</tr>
<tr>
<td align="left"><strong>Content-ID-Text</strong></td>
<td align="left">0001</td>
<td align="left">0000 - Content Type Text</td>
<td align="left">0x10</td>
<td>CT</td>
</tr>
<tr>
<td align="left"><strong>Content-ID-Text <abbr title="Partial Content Flag">PCF</abbr></strong></td>
<td align="left">0001</td>
<td align="left">0001 - Content Type Text  + <abbr title="Partial Content Flag">PCF</abbr></td>
<td align="left">0x11</td>
<td>Ct</td>
</tr>
<tr>
<td align="left"><strong>Content-ID-Image</strong></td>
<td align="left">0001</td>
<td align="left">0010 - Content Type Image</td>
<td align="left">0x12</td>
<td>CY</td>
</tr>
<tr>
<td align="left"><strong>Content-ID-Image <abbr title="Partial Content Flag">PCF</abbr></strong></td>
<td align="left">0001</td>
<td align="left">0011 - Content Type Image + <abbr title="Partial Content Flag">PCF</abbr></td>
<td align="left">0x13</td>
<td>Ci</td>
</tr>
<tr>
<td align="left"><em>Content-ID-Audio</em></td>
<td align="left">0001</td>
<td align="left">0100 - Content Type Audio</td>
<td align="left">0x14</td>
<td>CA</td>
</tr>
<tr>
<td align="left"><em>Content-ID-Audio <abbr title="Partial Content Flag">PCF</abbr></em></td>
<td align="left">0001</td>
<td align="left">0101 - Content Type Audio + <abbr title="Partial Content Flag">PCF</abbr></td>
<td align="left">0x15</td>
<td>Ca</td>
</tr>
<tr>
<td align="left"><em>Content-ID-Video</em></td>
<td align="left">0001</td>
<td align="left">0110 - Content Type Video</td>
<td align="left">0x16</td>
<td>CV</td>
</tr>
<tr>
<td align="left"><em>Content-ID-Video <abbr title="Partial Content Flag">PCF</abbr></em></td>
<td align="left">0001</td>
<td align="left">0111 - Content Type Video + <abbr title="Partial Content Flag">PCF</abbr></td>
<td align="left">0x17</td>
<td>Cv</td>
</tr>
<tr>
<td align="left"><strong>Content-ID-Mixed</strong></td>
<td align="left">0001</td>
<td align="left">1000 - Content Type Mixed</td>
<td align="left">0x18</td>
<td>CM</td>
</tr>
<tr>
<td align="left"><strong>Content-ID Mixed <abbr title="Partial Content Flag">PCF</abbr></strong></td>
<td align="left">0001</td>
<td align="left">1001 - Content Type Mixed + <abbr title="Partial Content Flag">PCF</abbr></td>
<td align="left">0x19</td>
<td>Cm</td>
</tr>
<tr>
<td align="left"><strong>Data-ID</strong></td>
<td align="left">0010</td>
<td align="left">0000 - Reserved</td>
<td align="left">0x20</td>
<td>CD</td>
</tr>
<tr>
<td align="left"><strong>Instance-ID</strong></td>
<td align="left">0011</td>
<td align="left">0000 - Reserved</td>
<td align="left">0x30</td>
<td>CR</td>
</tr>
</tbody>
</table>
<p>The body section of each component is specific to the component and always 8-bytes and can thus be fit into a 64-bit integer for efficient data processing. The following sections give an overview of how the different components work and how they are generated.</p>
<h3 id="meta-id-component">Meta-ID Component<a class="headerlink" href="#meta-id-component" title="Permanent link">#</a></h3>
<p>The Meta-ID component starts with a 1-byte header <code>00000000</code>. The first nibble <code>0000</code> indicates that this is a Meta-ID component type. The second nibble is reserved for future extended features of the Meta-ID.</p>
<p>The Meta-ID body is built from a 64-bit <code>similarity_hash</code> over 4-<abbr title="A character is defined as one Unicode code point">character</abbr> n-grams of the basic metadata of the content to be identified.  The basic metadata supplied to the Meta-ID generating function is assumed to be UTF-8 encoded. Errors that occur during the decoding of such a bytestring input to a native Unicode MUST terminate the process and must not be silenced. An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>meta_id</code> function that accepts minimal and generic metadata and returns a <a href="#base58-iscc">Base58-<abbr title="International Standard Content Code">ISCC</abbr> encoded</a> Meta-ID component and trimmed metadata.</p>
<h4 id="inputs-to-meta-id-function">Inputs to Meta-ID function<a class="headerlink" href="#inputs-to-meta-id-function" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Required</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">title</td>
<td align="left">text</td>
<td align="left">Yes</td>
<td align="left">The title of an intangible creation.</td>
</tr>
<tr>
<td align="left">extra</td>
<td align="left">text</td>
<td align="left">No</td>
<td align="left">An optional short statement that distinguishes this intangible creation from another one for the purpose of forced Meta-ID uniqueness. (default: empty string)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The basic metadata inputs are intentionally simple and generic. We abstain from more specific metadata for Meta-ID generation in favor of compatibility across industries. To support global clustering it is <strong>RECOMMENDED</strong> to <strong>only supply the title field</strong> for Meta-ID generation. Imagine a <em>creators</em> input-field for metadata. Who would you list as the creators of a movie? The directors, writers the main actors? Would you list some of them or if not how do you decide whom you will list. Global disambiguation of similar title data can be accomplished with the extra-field. Industry- and application-specific metadata requirements can be met by <a href="#extended-metadata">extended metadata</a>.</p>
</div>
<h4 id="generate-meta-id">Generate Meta-ID<a class="headerlink" href="#generate-meta-id" title="Permanent link">#</a></h4>
<p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application must follow these steps in the given order to produce a stable Meta-ID:</p>
<ol>
<li>Apply <a href="#text_normalize"><code>text_normalize</code></a> separately to the  <code>title</code> and <code>extra</code> inputs while keeping white space.</li>
<li>Apply <a href="#text_trim"><code>text_trim</code></a> to the results of the previous step. <em>The results of this step MUST be supplied as basic metadata for <abbr title="International Standard Content Code">ISCC</abbr> registration.</em></li>
<li>Concatenate trimmed <code>title</code> and <code>extra</code> from using a space ( <code>\u0020</code>) as a separator. Remove leading/trailing whitespace.</li>
<li>Create a list of 4 <abbr title="A character is defined as one Unicode code point">character</abbr> <a href="https://en.wikipedia.org/wiki/N-gram">n-grams</a> by sliding <abbr title="A character is defined as one Unicode code point">character</abbr>-wise through the result of the previous step.</li>
<li>Encode each n-gram from the previous step to an UTF-8 bytestring and calculate its <a href="http://cyan4973.github.io/xxHash/">xxHash64</a> digest.</li>
<li>Apply <a href="#similarity_hash"><code>similarity_hash</code></a> to the list of digests from the previous step.</li>
<li>Prepend the 1-byte component header (<code>0x00</code>) to the results of the previous step.</li>
<li>Encode the resulting 9 byte sequence with <a href="#encode"><code>encode</code></a></li>
<li>Return encoded Meta-ID, trimmed <code>title</code> and trimmed <code>extra</code> data.</li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L19">Meta-ID reference code</a></p>
<div class="admonition warning">
<p class="admonition-title">Text trimming</p>
<p>When trimming text be sure to trim the byte-length of the UTF-8 encoded version and not the number of characters. The trim point MUST be such, that it does not cut into multibyte characters. Characters might have different UTF-8 byte-length. For example <code>ü</code> is 2-bytes, <code>驩</code> is 3-bytes and <code>𠜎</code> is 4-bytes. So the trimmed version of a string with 128 <code>驩</code>-characters will result in a 42-<abbr title="A character is defined as one Unicode code point">character</abbr> string with a 126-byte UTF-8 encoded length. This is necessary because the results of this operation will be stored as basic metadata with strict byte size limits on the blockchain. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Automated Data-Ingestion</p>
<p>Applications that perform automated data-ingestion SHOULD apply a customized preliminary normalization to title data tailored to the dataset. Depending on catalog data removing pairs of brackets [], (), {}, and text in between them or cutting all text after the first occurence of a semicolon (;) or colon (:) can vastly improve deduplication. </p>
</div>
<h4 id="dealing-with-meta-id-collisions">Dealing with Meta-ID collisions<a class="headerlink" href="#dealing-with-meta-id-collisions" title="Permanent link">#</a></h4>
<p>Ideally we want multiple ISCCs that identify different manifestations of the <em>same intangible creation</em> to be automatically grouped by an identical leading Meta-ID component. We call such a natural grouping an <strong>intended component collision</strong>. Metadata, captured and edited by humans, is notoriously unreliable. By using normalization and a similarity hash on the metadata we account for some of this variation while keeping the Meta-ID component somewhat stable. </p>
<p>Auto-generated Meta-IDs components are <strong>expected</strong> to miss some intended collisions. An application SHOULD check for such <strong>missed intended component collisions</strong> before registering a new Meta-ID with the <em>canonical registry</em> of ISCCs by conducting a similarity search and asking for user feedback.</p>
<p>But what about <strong>unintended component collisions</strong>? Such collisions might happen because two <em>different intangible creations</em> have very similar or even identical metadata. But they might also happen simply by chance. With 2^56 possibile Meta-ID components the probability of random collisions rises in an S-curved shape with the number of deployed ISCCs (see: <a href="http://preshing.com/20110504/hash-collision-probabilities/">Hash Collision Probabilities</a>).  We should keep in mind that, the Meta-ID component is only one part of a fully qualified <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr>. Unintended collisions of the Meta-ID component are generally deemed as <strong>acceptable and expected</strong>. </p>
<p>If for any reason an application wants to avoid unintended collisions with pre-existing Meta-ID components it may utilize the <code>extra</code>-field. An application MUST first generate a Meta-ID without asking the user for input to the <code>extra</code>-field and then first check for collisions with the <em>canonical registry</em> of ISCCs. After it finds a collision with a pre-existing Meta-ID it may display the metadata of the colliding entry and interact with the user to determine if it indeed is an unintended collision. Only if the user indicates an unintended collision, may the application ask for a disambiguation that is then added as an amendment to the metadata via the <code>extra</code>-field to create a different Meta-ID component. The application may repeat the pre-existence check until it finds no collision or a user intended collision. The application MUST NOT supply auto-generated input to the <code>extra</code>-field.</p>
<p>It is our opinion that the concept of <strong>intended collisions</strong> of Meta-ID components is generally useful concept and a net positive. But one must be aware that this characteristic also has its pitfalls. It is by no means an attempt to provide an unambiguous - agreed upon - definition of <em>"identical intangible creations"</em>.</p>
<h3 id="content-id-component">Content-ID Component<a class="headerlink" href="#content-id-component" title="Permanent link">#</a></h3>
<p>The Content-ID component has multiple subtypes. The subtypes correspond with the <strong>Generic Media Types (<abbr title="Generic Media Type">GMT</abbr>)</strong>. A fully qualified <abbr title="International Standard Content Code">ISCC</abbr> can only have one Content-ID component of one specific <abbr title="Generic Media Type">GMT</abbr>, but there may be multiple ISCCs with different Content-ID types per digital media object.</p>
<p>A Content-ID is generated in two broad steps. In the first step, we extract and convert content from a rich media type to a normalized <abbr title="Generic Media Type">GMT</abbr>. In the second step, we use a <abbr title="Generic Media Type">GMT</abbr>-specific process to generate the Content-ID component of an <abbr title="International Standard Content Code">ISCC</abbr>. </p>
<h4 id="generic-media-types">Generic Media Types<a class="headerlink" href="#generic-media-types" title="Permanent link">#</a></h4>
<p>The  Content-ID type is signaled by the first 3 bits of the second nibble of the first byte of the Content-ID:</p>
<table>
<thead>
<tr>
<th align="left">Content-ID Type</th>
<th align="left">Nibble 2 Bits 0-3</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">text</td>
<td align="left">000</td>
<td>Generated from extracted and normalized plain-text</td>
</tr>
<tr>
<td align="left">image</td>
<td align="left">001</td>
<td>Generated from normalized grayscale pixel data</td>
</tr>
<tr>
<td align="left"><em>audio</em></td>
<td align="left"><em>010</em></td>
<td>To be defined in a later version of the specification</td>
</tr>
<tr>
<td align="left"><em>video</em></td>
<td align="left"><em>011</em></td>
<td>To be defined in a later version of the specification</td>
</tr>
<tr>
<td align="left">mixed</td>
<td align="left">100</td>
<td>Generated from multiple Content-IDs</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">101, 110, 111</td>
<td>Reserved for future versions of specification</td>
</tr>
</tbody>
</table>
<h4 id="content-id-text">Content-ID-Text<a class="headerlink" href="#content-id-text" title="Permanent link">#</a></h4>
<p>The Content-ID-Text is built from the extracted plain-text content of an encoded media object. To build a stable Content-ID-Text the plain-text content must first be extracted from the digital media object. It should be extracted in a way that is reproducible. There are many different text document formats out in the wilde and extracting plain-text from all of them is anything but a trivial task. While text-extraction is out of scope for this specification it is RECOMMENDED, that plain-text content SHOULD be extracted with the open-source <a href="https://tika.apache.org/">Apache Tika v1.21</a> toolkit, if a generic reproducibility of the Content-ID-Text component is desired. </p>
<p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>content_id(text, partial=False)</code> function that accepts UTF-8 encoded plain text and a boolean indicating the <a href="#partial-content-flag-pcf">partial content flag</a> as input and returns a Content-ID with <abbr title="Generic Media Type">GMT</abbr> type <code>text</code>. The procedure to create a Content-ID-Text is as follows:</p>
<ol>
<li>Apply <a href="#text_normalize"><code>text_normalize</code></a> to the text input while removing whitespace.</li>
<li>Create <abbr title="A character is defined as one Unicode code point">character</abbr>-wise n-grams of length 13 from the normalized text.</li>
<li>Create  a list of 32-bit unsigned integer features by applying <a href="http://cyan4973.github.io/xxHash/">xxHash32</a> to results of the previous step.</li>
<li>Apply <a href="#minimum_hash"><code>minimum_hash</code></a> to the list of features from the previous step with n=64.</li>
<li>Collect the least significant bits from the 64 MinHash features from the previous step.</li>
<li>Create a 64-bit digest from the collected bits.</li>
<li>Prepend the 1-byte component header (<code>0x10</code> full content or <code>0x11</code> partial content).</li>
<li>Encode and return the resulting 9-byte sequence with <a href="#encode"><code>encode</code></a>.</li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L54">Content-ID-Text reference code</a></p>
<h4 id="content-id-image">Content-ID-Image<a class="headerlink" href="#content-id-image" title="Permanent link">#</a></h4>
<p>For the Content-ID-Image we are opting for a DCT-based perceptual image hash instead of a more sophisticated keypoint detection based method. In view of the generic deployability of the <abbr title="International Standard Content Code">ISCC</abbr> we chose an algorithm that has moderate computation requirements and is easy to implement while still being robust against common image manipulations. </p>
<p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>content_id_image(image, partial=False)</code> function that accepts a local file path to an image and returns a Content-ID with <abbr title="Generic Media Type">GMT</abbr> type <code>image</code>. The procedure to create a Content-ID-Image is as follows:</p>
<ol>
<li>Apply <a href="#image_normalize"><code>image_normalize</code></a> to receive a two-dimensional array of grayscale pixel data.</li>
<li>Apply <a href="#image_hash"><code>image_hash</code></a> to the results of the previous step.</li>
<li>Prepend the 1-byte component header (<code>0x12</code> full content or <code>0x13</code> partial content) to results of the previous step.</li>
<li>Encode and return the resulting 9-byte sequence with <a href="#encode"><code>encode</code></a></li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L81">Content-ID-Image reference code</a></p>
<div class="admonition note">
<p class="admonition-title">Image Data Input</p>
<p>The <code>content_id_image</code> function may optionally accept the raw byte data of an encoded image or an internal native image object as input for convenience.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">JPEG Decoding</p>
<p>Decoding of JPEG images is non-deterministic. Different image processing libraries may yield diverging pixel data and result in different Image-IDs. The reference implementation currently uses the builtin decoder of the <a href="https://github.com/python-pillow/Pillow">Python Pillow</a> imaging library. Future versions of the <abbr title="International Standard Content Code">ISCC</abbr> specification may define a custom deterministic JPEG decoding procedure.</p>
</div>
<h4 id="content-id-mixed">Content-ID-Mixed<a class="headerlink" href="#content-id-mixed" title="Permanent link">#</a></h4>
<p>The Content-ID-Mixed aggregates multiple Content-IDs of the same or different types. It may be used for digital media objects that embed multiples types of media or for collections of contents of the same type. First we have to collect contents from the mixed media object or content collection and generate Content-IDs for each item. An <abbr title="International Standard Content Code">ISCC</abbr> conforming application must provide a <code>content_id_mixed</code> function that takes a list of Content-ID Codes as input and returns a Content-ID-Mixed. Follow these steps to create a Content-ID-Mixed:</p>
<p>Signature: <code>conent_id_mixed(cids: List[str], partial: bool=False) -&gt; str</code></p>
<ol>
<li>Decode the list of Content-IDs.</li>
<li>Extract the <strong>first 8-bytes</strong> from each digest (<strong>Note</strong>: this includes the header part of the Content-IDs).</li>
<li>Apply <a href="#similarity_hash"><code>similarity_hash</code></a> to the list of digests from step 2.</li>
<li>Prepend the 1-byte component header(<code>0x18</code> full content or <code>0x19</code> partial content)</li>
<li>Apply <a href="#encode"><code>encode</code></a> to the result of step 5 and return the result.</li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L102">Content-ID-Mixed reference code</a></p>
<h4 id="partial-content-flag-pcf">Partial Content Flag (<abbr title="Partial Content Flag">PCF</abbr>)<a class="headerlink" href="#partial-content-flag-pcf" title="Permanent link">#</a></h4>
<p>The last bit of the header byte of the Content-ID is the "Partial Content Flag". It designates if the Content-ID applies to the full content or just some part of it. The <abbr title="Partial Content Flag">PCF</abbr> MUST be set as a <code>0</code>-bit (<strong>full <abbr title="Generic Media Type">GMT</abbr>-specific content</strong>) by default. Setting the <abbr title="Partial Content Flag">PCF</abbr> to <code>1</code> enables applications to create multiple linked ISCCs of partial extracts of a content collection. The exact semantics of <em>partial content</em> are outside of the scope of this specification. Applications that plan to support partial Content-IDs MUST clearly define their semantics.</p>
<p><img alt="Partial Contant Flag" src="../images/iscc-pcf.svg" /></p>
<div class="admonition example">
<p class="admonition-title"><abbr title="Partial Content Flag">PCF</abbr> Linking Example</p>
<p>Let's assume we have a single newspaper issue "The Times - 03 Jan 2009". You would generate one Meta-ID component with title "The Times" and extra "03 Jan 2009". The resulting Meta-ID component will be the grouping prefix in this szenario.</p>
<p>We use a Content-ID-Mixed with <abbr title="Partial Content Flag">PCF</abbr> <code>0</code> (not partial) for the <abbr title="International Standard Content Code">ISCC</abbr> of the newspaper issue. We generate Data-ID and Instance-ID from the print PDF of the newspaper issue.</p>
<p>To create an <abbr title="International Standard Content Code">ISCC</abbr> for a single extracted image that should convey context with the newspaper issue we reuse the Meta-ID of the newspaper issue and create a Content-ID-Image with <abbr title="Partial Content Flag">PCF</abbr> <code>1</code> (partial to the newspaper issue). For the Data-ID or Instance-ID of the image we are free to choose if we reuse those of the newspaper issue or create separate ones. The former would express strong specialization of the image to the newspaper issue (not likely to be useful out of context). The latter would create a stronger link to an eventual standalone <abbr title="International Standard Content Code">ISCC</abbr> of the image. Note that in any case the <abbr title="International Standard Content Code">ISCC</abbr> of the individual image retains links in both ways:</p>
<ul>
<li>Image is linked to the newspaper issue by identical Meta-ID component</li>
<li>Image is linked to the standalone version of the image by identical Content-ID-Image body </li>
</ul>
<p>This is just one example that illustrates the flexibility that the <abbr title="Partial Content Flag">PCF</abbr>-Flag provides in concert with a grouping Meta-ID. With great flexibility comes great danger of complexity. Applications SHOULD do careful planning before using the <abbr title="Partial Content Flag">PCF</abbr>-Flag with internally defined semantics.</p>
</div>
<h3 id="data-id-component">Data-ID Component<a class="headerlink" href="#data-id-component" title="Permanent link">#</a></h3>
<p>For the Data-ID that encodes data similarity we use a content defined chunking algorithm that provides some shift resistance and calculate the MinHash from those chunks. To accommodate for small files the first 100 chunks have a ~140-byte size target while the remaining chunks target ~ 6kb in size.</p>
<p>The Data-ID is built from the raw encoded data of the content to be identified. An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>data_id</code> function that accepts the raw encoded data as input.</p>
<h4 id="generate-data-id">Generate Data-ID<a class="headerlink" href="#generate-data-id" title="Permanent link">#</a></h4>
<ol>
<li>Apply <a href="#data_chunks"><code>data_chunks</code></a> to the raw encoded content data.</li>
<li>For each chunk calculate the xxHash32 integer hash.</li>
<li>Apply <a href="#minimum_hash"><code>minimum_hash</code></a> to the resulting list of 32-bit unsigned integers with n=64.</li>
<li>Collect the least significant bits from the 64 MinHash features.</li>
<li>Create a 64-bit digest from the collected bits.</li>
<li>Prepend the 1-byte component header (eg. 0x20).</li>
<li>Apply <a href="#encode"><code>encode</code></a> to the result of step 6 and return the result.</li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L123">Data-ID reference code</a></p>
<h3 id="instance-id-component">Instance-ID Component<a class="headerlink" href="#instance-id-component" title="Permanent link">#</a></h3>
<p>The Instance-ID is built from the raw data of the media object to be identified and serves as checksum for the media object. The raw data of the media object is split into 64-kB data-chunks. Then we build a hash-tree from those chunks and use the truncated <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr> (Merkle root) as component body of the Instance-ID.</p>
<p>To guard against length-extension attacks and second preimage attacks we use double sha256 for hashing. We also prefix the hash input data with a <code>0x00</code>-byte for the leaf nodes hashes and with a <code>0x01</code>-byte for the  internal node hashes. While the Instance-ID itself is a non-cryptographic checksum, the full <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr> may be supplied in the extended metadata of an <abbr title="International Standard Content Code">ISCC</abbr> secure integrity verification is required.</p>
<p><img alt="iscc-creation-instance-id" src="../images/iscc-creation-instance-id.svg" /></p>
<p>An <abbr title="International Standard Content Code">ISCC</abbr> generating application MUST provide a <code>instance_id</code> function that accepts the raw data file as input and returns an encoded Instance-ID and a full hex-encoded 256-bit <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr>. </p>
<h4 id="generate-instance-id">Generate Instance-ID<a class="headerlink" href="#generate-instance-id" title="Permanent link">#</a></h4>
<ol>
<li>Split the raw bytes of the encoded media object into 64-kB chunks.</li>
<li>For each chunk calculate the <abbr title="Double SHA256">sha256d</abbr> of the concatenation of a <code>0x00</code>-byte and the chunk bytes. We call the resulting values <em>leaf node hashes</em> (<abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr>).</li>
<li>Calculate the next level of the hash tree by applying <abbr title="Double SHA256">sha256d</abbr> to the concatenation of a <code>0x01</code>-byte and adjacent pairs of <abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr> values. If the length of the list of <abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr> values is uneven concatenate the last <abbr title="Leaf Node Hash - A hash of a data-chunk.">LNH</abbr> value with itself. We call the resulting values <em>internal node hashes</em> (<abbr title="Internal Node Hash - A hash of concatenated hashes in a hash-tree.">INH</abbr>).</li>
<li>Recursively apply <code>0x01</code>-prefixed pairwise hashing to the results of the last step until the process yields only one hash value. We call this value the <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr>.</li>
<li>Trim the resulting <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr> to the first 8 bytes.</li>
<li>Prepend the 1-byte component header (e.g. <code>0x30</code>).</li>
<li>Encode resulting 9-byte sequence with <a href="#encode"><code>encode</code></a> to an Instance-ID Code</li>
<li>Hex-Encode the <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr></li>
<li>Return the Instance-ID and the hex-encoded <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr></li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L144">Instance-ID reference code</a> </p>
<p>Applications may carry, store, and process the leaf node hashes for advanced streaming data identification or partial data integrity verification.</p>
<h2 id="iscc-metadata"><abbr title="International Standard Content Code">ISCC</abbr> Metadata<a class="headerlink" href="#iscc-metadata" title="Permanent link">#</a></h2>
<p>As a generic content identifier the <abbr title="International Standard Content Code">ISCC</abbr> makes minimal assumptions about metadata that must or should be supplied together with an <abbr title="International Standard Content Code">ISCC</abbr>. The RECOMMENDED data-interchange format for <abbr title="International Standard Content Code">ISCC</abbr> metadata is <a href="https://www.json.org/">JSON</a>. We distinguish between <strong>Basic Metadata</strong> and <strong>Extended Metadata</strong>:</p>
<h3 id="basic-metadata">Basic Metadata<a class="headerlink" href="#basic-metadata" title="Permanent link">#</a></h3>
<p>Basic metadata for an <abbr title="International Standard Content Code">ISCC</abbr> is metadata that is explicitly defined by this specification. The following table enumerates basic metadata fields for use in the top-level of the JSON metadata object:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Bound</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>integer</td>
<td>No</td>
<td>No</td>
<td>Version of <abbr title="International Standard Content Code">ISCC</abbr> Specification. Assumed to be 1 if omitted.</td>
</tr>
<tr>
<td>title</td>
<td>text</td>
<td>Yes</td>
<td>Yes</td>
<td>The title of an intangible creation identified by the <abbr title="International Standard Content Code">ISCC</abbr>. The normalized and trimmed UTF-8 encoded text MUST not exceed 128 Bytes. The result of processing <code>title</code> and <code>extra</code> data with the <code>meta_id</code> function MUST  match the Meta-ID component of the <abbr title="International Standard Content Code">ISCC</abbr>.</td>
</tr>
<tr>
<td>extra</td>
<td>text</td>
<td>No</td>
<td>Yes</td>
<td>An optional short statement that distinguishes this intangible creation from another one for the purpose of Meta-ID uniqueness.</td>
</tr>
<tr>
<td><abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr></td>
<td>text (hex)</td>
<td>No</td>
<td>No</td>
<td>The full hex-encoded <abbr title="Root hash of an Instance-ID hash-tree">tophash</abbr> (Merkle root) returned by the <code>instance_id</code>  function.</td>
</tr>
<tr>
<td>meta</td>
<td>array</td>
<td>No</td>
<td>No</td>
<td>A list of one or more <strong>extended metadata</strong> entries. Must include at least one entry if specified.</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p><strong>Bound</strong> metadata impacts the <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr> (Meta-ID) and cannot be changed afterwards. Depending on adoption and real world use, future versions of this specification may define new basic metadata fields. Applications MAY add custom fields at the top level of the JSON object but MUST prefix those fields with an underscore to avoid collisions with future extensions of this specification.</p>
</div>
<h3 id="extended-metadata">Extended Metadata<a class="headerlink" href="#extended-metadata" title="Permanent link">#</a></h3>
<p>Extended metadata for an <abbr title="International Standard Content Code">ISCC</abbr> is metadata that is not explicitly defined by this specification. All such metadata SHOULD be supplied as JSON objects within the top-level <code>meta</code>array field. This allows for a flexible and extendable way to supply additional industry specific metadata about the identified content. </p>
<p>Extended metadata entries MUST be wrapped in JSON object of the following structure:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>schema</td>
<td>The <code>schema</code>-field may indicate a well known metadata schema (such as Dublin Core, IPTC, ID3v2, ONIX) that is used. RECOMMENDED <code>schema</code>: "<a href="http://schema.org/">schema.org</a>"</td>
</tr>
<tr>
<td>mediatype</td>
<td>The <code>mediatype</code>-field specifies an <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">IANA Media Type</a>. RECOMMENDED <code>mediatype</code>: "application/ld+json"</td>
</tr>
<tr>
<td>url</td>
<td>An URL that is expected to host the metadata with the indicated <code>schema</code> and <code>mediatype</code>. This field is only required if the <code>data</code>-field is omitted.</td>
</tr>
<tr>
<td>data</td>
<td>The <code>data</code>-field holds the metadata conforming to the indicated <code>schema</code> and <code>mediatype.</code> It is only required if the <code>url</code> field is omitted.</td>
</tr>
</tbody>
</table>
<h2 id="iscc-registration"><abbr title="International Standard Content Code">ISCC</abbr> Registration<a class="headerlink" href="#iscc-registration" title="Permanent link">#</a></h2>
<p>The <abbr title="International Standard Content Code">ISCC</abbr> is a decentralized identifier. ISCCs can be generated for content by anybody who has access to the content. Due to the clustering properties of its components the <abbr title="International Standard Content Code">ISCC</abbr> provides utility in data interchange and de-duplication scenarios even without a global registry. There is no central authority for the registration of <abbr title="International Standard Content Code">ISCC</abbr> identifiers or certification of content authorship.</p>
<p>As an open system the <abbr title="International Standard Content Code">ISCC</abbr> allows any person or organization to offer <abbr title="International Standard Content Code">ISCC</abbr> registration services as they see fit and without the need to ask anyone for permission. This also presumes that no person or organization may claim exclusive authority about <abbr title="International Standard Content Code">ISCC</abbr> registration.</p>
<h3 id="blockchain-registry">Blockchain Registry<a class="headerlink" href="#blockchain-registry" title="Permanent link">#</a></h3>
<p>To properly address the questions of identifier uniqueness, ownership and authentication within the <abbr title="International Standard Content Code">ISCC</abbr> Standard, the assignment of a canonical blockchain is a requirement. The distributed nature of blockchains are a perfect fit for long-term persistent identifier registration and resolver services.</p>
<p><strong>The assignment of a canonical blockchain is NOT YET part of this specification.</strong></p>
<p>Because this decision is of such vital importance, we suggest to wait for further feedback and additional community involvement before these questions are addressed either in an updated version of this specification or in a separate specification.</p>
<p>Our recommendation to the community is, to agree on a decentralized, open, and public blockchain, that has specific support for registry-services such as the upcoming <a href="https://content-blockchain.org/">Content Blockchain</a>. This would maximize the value for all participants of the ecosystem. Governance and protocol related questions are currently being worked on by the Content Blockchain Project, to come up with a mature proposal.</p>
<p>See also: <a href="https://coblo.github.io/cips/cip-0003-iscc/"><abbr title="International Standard Content Code">ISCC</abbr>-Stream specification</a>. </p>
<h2 id="iscc-embedding"><abbr title="International Standard Content Code">ISCC</abbr> Embedding<a class="headerlink" href="#iscc-embedding" title="Permanent link">#</a></h2>
<p>Embedding <abbr title="International Standard Content Code">ISCC</abbr> codes into content is only RECOMMENDED if it does not create a side effect. We call it a side effect if embedding an <abbr title="International Standard Content Code">ISCC</abbr> code modifies the content to such an extent, that it yields a different <abbr title="International Standard Content Code">ISCC</abbr> code.</p>
<p>Side effects will depend on the combination of <abbr title="International Standard Content Code">ISCC</abbr> components that are to be embedded. A Meta-ID can always be embedded without side effects because it does not depend on the content itself. Content-ID and Data-ID may not change if embedded in larger media objects. Instance-IDs cannot easily be embedded as they will inevitably have a side effect on the post-embedding Instance-ID without special processing.</p>
<p>Applications MAY embed <abbr title="International Standard Content Code">ISCC</abbr> codes that have side effects if they specify a procedure by which the embedded <abbr title="International Standard Content Code">ISCC</abbr> codes can be stripped in such a way that the stripped content will yield the original embedded <abbr title="International Standard Content Code">ISCC</abbr> codes.</p>
<div class="admonition example">
<p class="admonition-title"><abbr title="International Standard Content Code">ISCC</abbr> Embedding</p>
<p>We are able to embed the following combination of components from the <a href="https://github.com/iscc/iscc-specs/edit/master/docs/specification.md">markdown version</a> of this document into the document itself because adding or removing them has no side effect:</p>
<p><strong><abbr title="International Standard Content Code">ISCC</abbr></strong>: CCDbMYw6NfC8a-CTtW9UFoNJdXK-CDKcrxge9WHQH</p>
</div>
<h2 id="iscc-uri-scheme"><abbr title="International Standard Content Code">ISCC</abbr> URI Scheme<a class="headerlink" href="#iscc-uri-scheme" title="Permanent link">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Provisional Section</p>
<p>The <abbr title="International Standard Content Code">ISCC</abbr> URI Scheme and link-resolver details, ultimately depend on identifier registration, ownership, uniqueness and governance related decisions which are not yet part of this specification. See also: <a href="#blockchain-registry">Blockchain Registry</a>.</p>
</div>
<p>The purpose of the <abbr title="International Standard Content Code">ISCC</abbr> URI scheme based on <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> is to enable users to easily discover information like metadata or license offerings about a <abbr title="International Standard Content Code">ISCC</abbr> marked content by simply clicking a link on a webpage or by scanning a QR-Code. </p>
<p>The scheme name is <code>iscc</code>. The path component MUST be a fully qualified <abbr title="Base58-ISCC encoded string representation of an ISCC">ISCC Code</abbr> without hyphens. An optional <code>stream</code> query key MAY indicate the blockchain stream information source. If the <code>stream</code> query key is omitted applications SHOULD return information from the open <a href="https://coblo.github.io/cips/cip-0003-iscc/"><abbr title="International Standard Content Code">ISCC</abbr> Stream</a>.</p>
<p>The scheme name component ("iscc:") is case-insensitive. Applications MUST accept any combination of uppercase and lowercase letters in the scheme name. All other URI components are case-sensitive.</p>
<p>Applications MAY register themselves as handler for the "iscc:" URI scheme if no other handler is already registered. If another handler is already registered an application MAY ask the user to change it on the first run of the application.</p>
<h3 id="uri-syntax">URI Syntax<a class="headerlink" href="#uri-syntax" title="Permanent link">#</a></h3>
<p><code>&lt;foo&gt;</code> means placeholder, <code>[bar]</code> means optional.</p>
<div class="codehilite"><pre><span></span>iscc:&lt;fq-iscc-code&gt;[?stream=&lt;name&gt;]
</pre></div>


<h3 id="uri-example">URI Example<a class="headerlink" href="#uri-example" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span>iscc:11TcMGvUSzqoM1CqVA3ykFawyh1R1sH4Bz8A1of1d2Ju4VjWt26S?stream=smart-license
</pre></div>


<h2 id="procedures-algorithms">Procedures &amp; Algorithms<a class="headerlink" href="#procedures-algorithms" title="Permanent link">#</a></h2>
<h3 id="base58-iscc">Base58-<abbr title="International Standard Content Code">ISCC</abbr><a class="headerlink" href="#base58-iscc" title="Permanent link">#</a></h3>
<p>The <abbr title="International Standard Content Code">ISCC</abbr> uses a custom per-component data encoding similar to the <a href="https://github.com/simplegeo/zbase62">zbase62</a> encoding by <a href="https://en.wikipedia.org/wiki/Zooko_Wilcox-O%27Hearn">Zooko Wilcox-O'Hearn</a> but with a 58-<abbr title="A character is defined as one Unicode code point">character</abbr> symbol table. The encoding does not require padding and will always yield component codes of 13 characters length for ths 72-bit component digests. The predictable size of the encoding is a property that allows for easy composition and decomposition of components without having to rely on a delimiter (hyphen) in the <abbr title="International Standard Content Code">ISCC</abbr> code representation. Colliding body segments of the digest are preserved by encoding the header and body separately. The ASCII symbol table also minimizes transcription and OCR errors by omitting the easily confused characters <code>'O', '0', 'I', 'l'</code> and is shuffled to generate human readable component headers.</p>
<div class="admonition note">
<p class="admonition-title">Symbol table</p>
<p><code>SYMBOLS = "C23456789rB1ZEFGTtYiAaVvMmHUPWXKDNbcdefghLjkSnopRqsJuQwxyz"</code></p>
</div>
<h4 id="encode">encode<a class="headerlink" href="#encode" title="Permanent link">#</a></h4>
<p>Signature: <code>encode(digest: bytes) -&gt; str</code></p>
<p>The <code>encode</code> function accepts a 9-byte <strong><abbr title="International Standard Content Code">ISCC</abbr> Component Digest</strong> and returns the Base58-<abbr title="International Standard Content Code">ISCC</abbr> encoded  alphanumeric string of 13 characters which we call the <strong><abbr title="International Standard Content Code">ISCC</abbr>-Component Code</strong>.</p>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L476">Base-<abbr title="International Standard Content Code">ISCC</abbr> Encoding reference code</a></p>
<h4 id="decode">decode<a class="headerlink" href="#decode" title="Permanent link">#</a></h4>
<p>Signature: decode(code: str) -&gt; bytes</p>
<p>the <code>decode</code> function accepts a 13-<abbr title="A character is defined as one Unicode code point">character</abbr> <strong><abbr title="International Standard Content Code">ISCC</abbr>-Component Code</strong> and returns the corresponding 9-byte <strong><abbr title="International Standard Content Code">ISCC</abbr>-Component Digest</strong>.</p>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L496">Base-<abbr title="International Standard Content Code">ISCC</abbr> Decoding reference code</a></p>
<h3 id="content-normalization">Content Normalization<a class="headerlink" href="#content-normalization" title="Permanent link">#</a></h3>
<p>The <abbr title="International Standard Content Code">ISCC</abbr> standardizes some content normalization procedures to support reproducible and stable identifiers. Following the list of normalization functions that MUST be provided by a conforming implementation.</p>
<h4 id="text_trim">text_trim<a class="headerlink" href="#text_trim" title="Permanent link">#</a></h4>
<p>Signature: <code>text_trim(text: str) -&gt; str</code></p>
<p>Trim text such that its UTF-8 encoded byte representation does not exceed 128-bytes each. Remove leading and trailing whitespace.</p>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L175">Text trimming reference code</a></p>
<h4 id="text_normalize">text_normalize<a class="headerlink" href="#text_normalize" title="Permanent link">#</a></h4>
<p>Signature: <code>text_normalize(text: str, keep_ws: bool = False) -&gt; str</code></p>
<p>We define a text normalization function that is specific to our application. It takes text and an optional boolean <code>keep_ws</code> parameter as an input and returns <em>normalized</em> Unicode text for further algorithmic processing. The <code>text_normalize</code> function performs the following operations in the given order while each step works with the results of the previous operation:</p>
<ol>
<li>Decode to native Unicode if text is a byte string</li>
<li>Remove leading and trailing whitespace</li>
<li>Transform text to lowercase</li>
<li>Decompose the lower case text by applying <a href="http://www.unicode.org/reports/tr15/#Norm_Forms">Unicode Normalization Form D (NFD)</a>.</li>
<li>Filter out all characters that fall into the Unicode categories listed in the constant <code>UNICODE_FILTER</code>. Keep these control characters (Cc) that are commonly considered whitespace:<ul>
<li><code>\u0009</code>,  # Horizontal Tab (TAB)</li>
<li><code>\u000A</code>,  # Linefeed (LF)</li>
<li><code>\u000D</code>,  # Carriage Return (CR)</li>
</ul>
</li>
<li>Keep or remove whitespace depending on <code>keep_ws</code> parameter</li>
<li>Re-Combine the text by applying <code>Unicode Normalization Form KC (NFKC)</code>.</li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L180">Text normalization reference code</a></p>
<h4 id="image_normalize">image_normalize<a class="headerlink" href="#image_normalize" title="Permanent link">#</a></h4>
<p>Signature: <code>image_normalize(img) -&gt; List[List[int]]</code></p>
<p>Accepts a file path, byte-stream or raw binary image data and MUST at least support JPEG, PNG, and GIF image formats. Normalize the image with the following steps:</p>
<ol>
<li>Convert the image to grayscale</li>
<li>Resize the image to 32x32 pixels using <a href="https://en.wikipedia.org/wiki/Bicubic_interpolation">bicubic interpolation</a></li>
<li>Create a 32x32 two-dimensional array of 8-bit grayscale values from the image data</li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L217">Image normalization reference code</a></p>
<h3 id="feature-hashing">Feature Hashing<a class="headerlink" href="#feature-hashing" title="Permanent link">#</a></h3>
<p>The <abbr title="International Standard Content Code">ISCC</abbr> standardizes various feature hashing algorithms that reduce content features to a binary vector used as the body of the various Content-ID components.</p>
<h4 id="similarity_hash">similarity_hash<a class="headerlink" href="#similarity_hash" title="Permanent link">#</a></h4>
<p>Signature: <code>similarity_hash(hash_digests: Sequence[ByteString]) -&gt; bytes</code></p>
<p>The <code>similarity_hash</code> function takes a sequence of hash digests which represent a set of features. Each of the digests MUST be of equal size. The function returns a new hash digest (raw 8-bit bytes) of the same size. For each bit in the input hashes calculate the number of hashes with that bit set and subtract the the count of hashes where it is not set. For the output hash set the same bit position to <code>0</code> if the count is negative or <code>1</code> if it is zero or positive. The resulting hash digest will retain similarity for similar sets of input hashes. See also  <a href="http://dx.doi.org/10.1145/509907.509965" title="Charikar, M.S., 2002, May. Similarity estimation techniques from rounding algorithms. In Proceedings of the thirty-fourth annual ACM symposium on Theory of computing (pp. 380-388). ACM.">[Charikar2002]</a>.</p>
<p><img alt="iscc-similarity-hash" src="../images/iscc-similarity-hash.svg" /></p>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L239">Similarity hash reference code</a></p>
<h4 id="minimum_hash">minimum_hash<a class="headerlink" href="#minimum_hash" title="Permanent link">#</a></h4>
<p>Signature: <code>minimum_hash(features: Iterable[int], n: int = 64) -&gt; List[int]</code></p>
<p>The <code>minimum_hash</code> function takes an arbitrary sized set of 32-bit integer features and reduces it to a fixed size vector of <code>n</code> features such that it preserves similarity with other sets. It is based on the MinHash implementation of the <a href="https://ekzhu.github.io/datasketch/">datasketch</a> library by <a href="https://github.com/ekzhu">Eric Zhu</a>.</p>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L263">Minimum hash reference code</a></p>
<h4 id="image_hash">image_hash<a class="headerlink" href="#image_hash" title="Permanent link">#</a></h4>
<p>Signature: <code>image_hash(pixels: List[List[int]]) -&gt; bytes</code></p>
<ol>
<li>Perform a discrete cosine transform per row of input pixels.</li>
<li>Perform a discrete cosine transform per column on the resulting matrix from step 2.</li>
<li>Extract upper left 8x8 corner of array from step 2 as a flat list.</li>
<li>Calculate the median of the results from step 3.</li>
<li>Create a 64-bit digest by iterating over the values of step 5 and setting a  <code>1</code>- for values above median and <code>0</code> for values below or equal to the median.</li>
<li>Return results from step 5.</li>
</ol>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L274">Image hash reference code</a></p>
<h3 id="content-defined-chunking">Content Defined Chunking<a class="headerlink" href="#content-defined-chunking" title="Permanent link">#</a></h3>
<p>For shift resistant data chunking the <abbr title="International Standard Content Code">ISCC</abbr> requires a custom chunking algorithm:</p>
<h4 id="data_chunks">data_chunks<a class="headerlink" href="#data_chunks" title="Permanent link">#</a></h4>
<p>Signature: <code>data_chunks(data: stream) -&gt; Iterator[bytes]</code></p>
<p>The <code>data_chunks</code> function accepts a byte-stream and returns variable sized chunks. Chunk boundaries are determined by a gear based chunking algorithm based on <a href="http://dx.doi.org/10.1109/TC.2016.2595565" title="Wen Xia, Yukun Zhou, Hong Jiang, Yu Hua, Yuchong Hu, Yucheng Zhang, Qing Liu, 2016. FastCDC: a Fast and Efficient Content-Defined Chunking Approach for Data Deduplication.">[WenXia2016]</a>.</p>
<p>See also: <a href="https://github.com/iscc/iscc-specs/blob/master/src/iscc/iscc.py#L334"><abbr title="Content defined chunking">CDC</abbr> reference code</a></p>
<h2 id="conformance-testing">Conformance Testing<a class="headerlink" href="#conformance-testing" title="Permanent link">#</a></h2>
<p>An application that claims <abbr title="International Standard Content Code">ISCC</abbr> conformance MUST pass all required functions from the <abbr title="International Standard Content Code">ISCC</abbr> conformance test suite. The test suite is available as json data in our <a href="https://raw.githubusercontent.com/iscc/iscc-specs/master/tests/test_data.json">Github Repository</a>. Test Data is structured as follows:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;&lt;function_name&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;&lt;test_name&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;value1&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;value2&gt;&quot;</span><span class="p">],</span>
            <span class="nt">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;value1&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;value2&gt;&quot;</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The test suite also contains data for functions that are considered implementation details and MAY be skipped by other implementations. Optional tests are marked as <code>"required": false</code>.</p>
<p>Outputs that are expected to be raw bytes are embedded as HEX encoded strings in JSON and prefixed with  <code>hex:</code> to support automated decoding during implementation testing.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>Byte outputs in JSON test data:</p>
<div class="codehilite"><pre><span></span>{
  &quot;data_chunks&quot;: {
    &quot;test_001_cat_jpg&quot;: {
      &quot;inputs&quot;: [&quot;cat.jpg&quot;],
      &quot;outputs&quot;: [&quot;hex:ffd8ffe1001845786966000049492a0008&quot;, ...]
    }
  }
}
</pre></div>


</div>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">#</a></h2>
<p>Copyright © 2016 - 2019 <strong>Content Blockchain Project</strong></p>
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons (CC BY-NC-SA 4.0)</a>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../implementations/" title="Implementations" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Implementations
              </span>
            </div>
          </a>
        
        
          <a href="../license/" title="License" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                License
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2016-2019 The Authors | <a href="https://iscc.foundation/privacy">Privacy Policy</a> | <a href="https://iscc.foundation/cookies">Cookie Policy</a> | <a href="https://iscc.foundation/imprint">Imprint</a> | <a href="https://iscc.foundation/disclaimer">Disclaimer</a>
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://iscc.codes" class="md-footer-social__link fa fa-home"></a>
    
      <a href="https://github.com/iscc" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://t.me/iscc_dev" class="md-footer-social__link fa fa-telegram"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a8b5e56f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>